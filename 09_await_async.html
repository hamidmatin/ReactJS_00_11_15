<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button id="btn1">Buotton 1</button>
    <button id="btn2">Buotton 2</button>
    <button id="btn3">Buotton 3</button>
    <p id="p1"></p>
    <p id="p2"></p>
    <p id="p3"></p>
    <p id="p4"></p>
    <p id="p5"></p>

    <script>
      // async function myFunction1() {
      //   return 'Hello';
      // }

      // const myFunction1 = async function () {
      //   return 'Hello';
      // };

      const myFunction1 = async () => {
        return 'Hello';
      };

      // async function myFunction2() {
      //   return Promise.resolve('Hello');
      // }

      const myFunction2 = async () => {
        return Promise.resolve('Hello');
      };

      const myFunction3 = async () => {
        let rnd = Math.ceil(Math.random() * 6);

        // if (rnd === 6 || rnd === 3) {
        //   return Promise.resolve(rnd);
        // } else {
        //   return Promise.reject('try again');
        // }
        if (rnd === 6 || rnd === 3) {
          return rnd;
        } else {
          throw 'try again';
        }
      };

      const myFunction4 = async () => {
        for (let i = 0; i < 90000000; i++){} 
        return 'Finished';
      };

      console.log(myFunction1());
      const result = myFunction1();
      console.log(result);
      console.log(myFunction2());
      // console.log(myFunction3());
      // console.log(myFunction4());

      myFunction1().then((message) => {
        console.log(message);
      });

      myFunction2().then((message) => {
        console.log(message);
      });

      myFunction3()
        .then((message) => {
          console.log(`Hooray your number is ${message}`);
        })
        .catch((error) => {
          console.log(`error = ${error}`);
        });

      myFunction4().then((result) => {
        console.log(`result = ${result}`);
      });
      /***********/
      const dice1 = async (tryCount) => {
        try {
          if (tryCount >= 5) {
            throw 'u reach maximum';
          }
          let rnd = Math.ceil(Math.random() * 6);
          if (rnd !== 6) {
            throw `Your num is ${rnd}. try again`;
          }
          return 'You Win';
        } catch (e) {
          return e;
        }
      };

      let counter = 0;
      document.getElementById('btn1').onclick = async function () {
        // dice1(counter++)
        //   .then((result) => {
        //     document.getElementById('p1').innerHTML = result;
            
        //   })
        //   .catch((error) => {
        //     document.getElementById('p1').innerHTML = error;
        //   });

        try {
          let result = await dice1(counter++)
          document.getElementById('p1').innerHTML = result;
        } catch (error) {
          document.getElementById('p1').innerHTML = error;
        }
      };

      /********************/

      document.getElementById('btn2').onclick = function () {
        myDisplay();
      };

      async function myDisplay() {
        let myPromise = new Promise(function (myResolve, myReject) {
          setTimeout(function () {
            try {
              let rnd = Math.ceil(Math.random() * 6);
              if (rnd === 6 || rnd === 3 || rnd == 1) {
                throw `Your num is ${rnd}. try again`;
              }
              return myResolve('You Win');
            } catch (e) {
              return myReject(e);
            }
          }, 1000);
        });
        const result = await myPromise;

        console.log(result);
        document.getElementById('p1').innerHTML = result;
      }

      const loadAjax = () => {
        const xhttp = new XMLHttpRequest();
        xhttp.open('GET', 'url', true);
        xhttp.send();
        xhttp.onreadystatechange = function () {
          if (this.readyState === 4 && this.status === 200) {
          }
        };
      };

      const loadDate = () => {
        // fetch('url', {requestOptions})
        //   .then(res => res.json())
        //   .then(result=>{....})

        fetch('https://jsonplaceholder.typicode.com/posts')
          .then((response) => {
            console.log(response);
            // console.log(response.json())
            return response.json()
          })
          .then((result) => {
            console.log(result);
          });
      };

      const loadDataAsync = async () => {
        let response = await fetch('https://jsonplaceholder.typicode.com/posts');
        console.log(response);
        let result = await response.json();
        console.log(result);
      };

      document.getElementById('btn3').onclick = function () {
        // loadDate()
        loadDataAsync();
      };

      class MyClass{
        myMethod(p){
          this.property = p
        }

        static myStaticMethod(){
          
        }
      }

      const obj = new MyClass()
      obj.myMethod('sds')
      

      MyClass.myStaticMethod()

      Math.floor()
      Math.PI

      let myDate = new Date()
    </script>
  </body>
</html>
